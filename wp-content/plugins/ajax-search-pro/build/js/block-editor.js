(function(){"use strict";var ut={1609:function(e){e.exports=window.React},3593:function(e,t,n){e.exports=n(3691)},3691:function(e,t,n){/** @license React v17.0.2
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */n(9645);var s=n(1609),o=60103;if(t.Fragment=60107,typeof Symbol=="function"&&Symbol.for){var a=Symbol.for;o=a("react.element"),t.Fragment=a("react.fragment")}var r=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i=Object.prototype.hasOwnProperty,c={key:!0,ref:!0,__self:!0,__source:!0};function w(d,u,v){var l,h={},p=null,I=null;v!==void 0&&(p=""+v),u.key!==void 0&&(p=""+u.key),u.ref!==void 0&&(I=u.ref);for(l in u)i.call(u,l)&&!c.hasOwnProperty(l)&&(h[l]=u[l]);if(d&&d.defaultProps)for(l in u=d.defaultProps,u)h[l]===void 0&&(h[l]=u[l]);return{$$typeof:o,type:d,key:p,ref:I,props:h,_owner:r.current}}t.jsx=w,t.jsxs=w},8140:function(e,t,n){/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var s=n(1609);function o(h,p){return h===p&&(h!==0||1/h===1/p)||h!==h&&p!==p}var a=typeof Object.is=="function"?Object.is:o,r=s.useState,i=s.useEffect,c=s.useLayoutEffect,w=s.useDebugValue;function d(h,p){var I=p(),f=r({inst:{value:I,getSnapshot:p}}),A=f[0].inst,q=f[1];return c(function(){A.value=I,A.getSnapshot=p,u(A)&&q({inst:A})},[h,I,p]),i(function(){return u(A)&&q({inst:A}),h(function(){u(A)&&q({inst:A})})},[h]),w(I),I}function u(h){var p=h.getSnapshot;h=h.value;try{var I=p();return!a(h,I)}catch{return!0}}function v(h,p){return p()}var l=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?v:d;t.useSyncExternalStore=s.useSyncExternalStore!==void 0?s.useSyncExternalStore:l},8279:function(e,t,n){e.exports=n(8140)},9645:function(e){/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable;function o(r){if(r==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(r)}function a(){try{if(!Object.assign)return!1;var r=new String("abc");if(r[5]="de",Object.getOwnPropertyNames(r)[0]==="5")return!1;for(var i={},c=0;c<10;c++)i["_"+String.fromCharCode(c)]=c;var w=Object.getOwnPropertyNames(i).map(function(u){return i[u]});if(w.join("")!=="0123456789")return!1;var d={};return"abcdefghijklmnopqrst".split("").forEach(function(u){d[u]=u}),Object.keys(Object.assign({},d)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}e.exports=a()?Object.assign:function(r,i){for(var c,w=o(r),d,u=1;u<arguments.length;u++){c=Object(arguments[u]);for(var v in c)n.call(c,v)&&(w[v]=c[v]);if(t){d=t(c);for(var l=0;l<d.length;l++)s.call(c,d[l])&&(w[d[l]]=c[d[l]])}}return w}}},Pe={};function L(e){var t=Pe[e];if(t!==void 0)return t.exports;var n=Pe[e]={exports:{}};return ut[e](n,n.exports,L),n.exports}(function(){L.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return L.d(t,{a:t}),t}})(),function(){L.d=function(e,t){for(var n in t)L.o(t,n)&&!L.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}}(),function(){L.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}();var on={},O=L(3593),D=window.wp.i18n,lt=window.wp.blocks,ft=window.wp.serverSideRender,dt=L.n(ft),K=window.wp.components,pt=(e=>(e[e.Search=1]="Search",e[e.Settings=2]="Settings",e[e.Results=3]="Results",e))(pt||{}),_t=({instance:e,shortcodeType:t})=>{let n="wd_asp";const s=parseInt(t.toString());return s===2?n="wpdreams_asp_settings":s===3&&(n="wpdreams_ajaxsearchpro_results"),`[${n} id=${e}]`},b=L(1609),ht=L(8279);const Fe=0,Ve=1,Me=2,ke=3;var We=Object.prototype.hasOwnProperty;function pe(e,t){var n,s;if(e===t)return!0;if(e&&t&&(n=e.constructor)===t.constructor){if(n===Date)return e.getTime()===t.getTime();if(n===RegExp)return e.toString()===t.toString();if(n===Array){if((s=e.length)===t.length)for(;s--&&pe(e[s],t[s]););return s===-1}if(!n||typeof e=="object"){s=0;for(n in e)if(We.call(e,n)&&++s&&!We.call(t,n)||!(n in t)||!pe(e[n],t[n]))return!1;return Object.keys(t).length===s}}return e!==e&&t!==t}const k=new WeakMap,H=()=>{},R=H(),oe=Object,_=e=>e===R,P=e=>typeof e=="function",W=(e,t)=>({...e,...t}),qe=e=>P(e.then),_e={},ae={},he="undefined",te=typeof window!=he,ve=typeof document!=he,vt=te&&"Deno"in window,mt=()=>te&&typeof window.requestAnimationFrame!=he,Ue=(e,t)=>{const n=k.get(e);return[()=>!_(t)&&e.get(t)||_e,s=>{if(!_(t)){const o=e.get(t);t in ae||(ae[t]=o),n[5](t,W(o,s),o||_e)}},n[6],()=>!_(t)&&t in ae?ae[t]:!_(t)&&e.get(t)||_e]};let me=!0;const wt=()=>me,[we,ge]=te&&window.addEventListener?[window.addEventListener.bind(window),window.removeEventListener.bind(window)]:[H,H],gt=()=>{const e=ve&&document.visibilityState;return _(e)||e!=="hidden"},bt=e=>(ve&&document.addEventListener("visibilitychange",e),we("focus",e),()=>{ve&&document.removeEventListener("visibilitychange",e),ge("focus",e)}),St=e=>{const t=()=>{me=!0,e()},n=()=>{me=!1};return we("online",t),we("offline",n),()=>{ge("online",t),ge("offline",n)}},Et={isOnline:wt,isVisible:gt},Ot={initFocus:bt,initReconnect:St},Be=!b.useId,ne=!te||vt,xt=e=>mt()?window.requestAnimationFrame(e):setTimeout(e,1),ie=ne?b.useEffect:b.useLayoutEffect,be=typeof navigator<"u"&&navigator.connection,$e=!ne&&be&&(["slow-2g","2g"].includes(be.effectiveType)||be.saveData),ce=new WeakMap,Rt=e=>oe.prototype.toString.call(e),Se=(e,t)=>e===`[object ${t}]`;let yt=0;const Ee=e=>{const t=typeof e,n=Rt(e),s=Se(n,"Date"),o=Se(n,"RegExp"),a=Se(n,"Object");let r,i;if(oe(e)===e&&!s&&!o){if(r=ce.get(e),r)return r;if(r=++yt+"~",ce.set(e,r),Array.isArray(e)){for(r="@",i=0;i<e.length;i++)r+=Ee(e[i])+",";ce.set(e,r)}if(a){r="#";const c=oe.keys(e).sort();for(;!_(i=c.pop());)_(e[i])||(r+=i+":"+Ee(e[i])+",");ce.set(e,r)}}else r=s?e.toJSON():t=="symbol"?e.toString():t=="string"?JSON.stringify(e):""+e;return r},Oe=e=>{if(P(e))try{e=e()}catch{e=""}const t=e;return e=typeof e=="string"?e:(Array.isArray(e)?e.length:e)?Ee(e):"",[e,t]};let jt=0;const xe=()=>++jt;async function He(...e){const[t,n,s,o]=e,a=W({populateCache:!0,throwOnError:!0},typeof o=="boolean"?{revalidate:o}:o||{});let r=a.populateCache;const i=a.rollbackOnError;let c=a.optimisticData;const w=v=>typeof i=="function"?i(v):i!==!1,d=a.throwOnError;if(P(n)){const v=n,l=[],h=t.keys();for(const p of h)!/^\$(inf|sub)\$/.test(p)&&v(t.get(p)._k)&&l.push(p);return Promise.all(l.map(u))}return u(n);async function u(v){const[l]=Oe(v);if(!l)return;const[h,p]=Ue(t,l),[I,f,A,q]=k.get(t),z=()=>{const C=I[l];return(P(a.revalidate)?a.revalidate(h().data,v):a.revalidate!==!1)&&(delete A[l],delete q[l],C&&C[0])?C[0](Me).then(()=>h().data):h().data};if(e.length<3)return z();let y=s,U,V=!1;const S=xe();f[l]=[S,0];const Y=!_(c),M=h(),Q=M.data,le=M._c,J=_(le)?Q:le;if(Y&&(c=P(c)?c(J,Q):c,p({data:c,_c:J})),P(y))try{y=y(J)}catch(C){U=C,V=!0}if(y&&qe(y))if(y=await y.catch(C=>{U=C,V=!0}),S!==f[l][0]){if(V)throw U;return y}else V&&Y&&w(U)&&(r=!0,p({data:J,_c:R}));if(r&&!V)if(P(r)){const C=r(y,J);p({data:C,error:R,_c:R})}else p({data:y,error:R,_c:R});if(f[l][1]=xe(),Promise.resolve(z()).then(()=>{p({_c:R})}),V){if(d)throw U;return}return y}}const ze=(e,t)=>{for(const n in e)e[n][0]&&e[n][0](t)},Je=(e,t)=>{if(!k.has(e)){const n=W(Ot,t),s=Object.create(null),o=He.bind(R,e);let a=H;const r=Object.create(null),i=(d,u)=>{const v=r[d]||[];return r[d]=v,v.push(u),()=>v.splice(v.indexOf(u),1)},c=(d,u,v)=>{e.set(d,u);const l=r[d];if(l)for(const h of l)h(u,v)},w=()=>{if(!k.has(e)&&(k.set(e,[s,Object.create(null),Object.create(null),Object.create(null),o,c,i]),!ne)){const d=n.initFocus(setTimeout.bind(R,ze.bind(R,s,Fe))),u=n.initReconnect(setTimeout.bind(R,ze.bind(R,s,Ve)));a=()=>{d&&d(),u&&u(),k.delete(e)}}};return w(),[e,o,w,a]}return[e,k.get(e)[4]]},Ct=(e,t,n,s,o)=>{const a=n.errorRetryCount,r=o.retryCount,i=~~((Math.random()+.5)*(1<<(r<8?r:8)))*n.errorRetryInterval;!_(a)&&r>a||setTimeout(s,i,o)},Tt=pe,[Re,Dt]=Je(new Map),Ge=W({onLoadingSlow:H,onSuccess:H,onError:H,onErrorRetry:Ct,onDiscarded:H,revalidateOnFocus:!0,revalidateOnReconnect:!0,revalidateIfStale:!0,shouldRetryOnError:!0,errorRetryInterval:$e?1e4:5e3,focusThrottleInterval:5*1e3,dedupingInterval:2*1e3,loadingTimeout:$e?5e3:3e3,compare:Tt,isPaused:()=>!1,cache:Re,mutate:Dt,fallback:{}},Et),Ke=(e,t)=>{const n=W(e,t);if(t){const{use:s,fallback:o}=e,{use:a,fallback:r}=t;s&&a&&(n.use=s.concat(a)),o&&r&&(n.fallback=W(o,r))}return n},ye=(0,b.createContext)({}),It=e=>{const{value:t}=e,n=(0,b.useContext)(ye),s=P(t),o=(0,b.useMemo)(()=>s?t(n):t,[s,n,t]),a=(0,b.useMemo)(()=>s?o:Ke(n,o),[s,n,o]),r=o&&o.provider,i=(0,b.useRef)(R);r&&!i.current&&(i.current=Je(r(a.cache||Re),o));const c=i.current;return c&&(a.cache=c[0],a.mutate=c[1]),ie(()=>{if(c)return c[2]&&c[2](),c[3]},[]),(0,b.createElement)(ye.Provider,W(e,{value:a}))},At="$inf$",Ye=te&&window.__SWR_DEVTOOLS_USE__,Lt=Ye?window.__SWR_DEVTOOLS_USE__:[],Nt=()=>{Ye&&(window.__SWR_DEVTOOLS_REACT__=b)},Qe=e=>P(e[1])?[e[0],e[1],e[2]||{}]:[e[0],null,(e[1]===null?e[2]:e[1])||{}],Pt=()=>W(Ge,(0,b.useContext)(ye)),cn=(e,t)=>{const[n,s]=serialize(e),[,,,o]=SWRGlobalState.get(cache);if(o[n])return o[n];const a=t(s);return o[n]=a,a},Ft=e=>(t,n,s)=>e(t,n&&((...a)=>{const[r]=Oe(t),[,,,i]=k.get(Re);if(r.startsWith(At))return n(...a);const c=i[r];return _(c)?n(...a):(delete i[r],c)}),s),Vt=Lt.concat(Ft),Mt=e=>function(...n){const s=Pt(),[o,a,r]=Qe(n),i=Ke(s,r);let c=e;const{use:w}=i,d=(w||[]).concat(Vt);for(let u=d.length;u--;)c=d[u](c);return c(o,a||i.fetcher||null,i)},kt=(e,t,n)=>{const s=t[e]||(t[e]=[]);return s.push(n),()=>{const o=s.indexOf(n);o>=0&&(s[o]=s[s.length-1],s.pop())}},un=(e,t)=>(...n)=>{const[s,o,a]=Qe(n),r=(a.use||[]).concat(t);return e(s,o,{...a,use:r})};Nt();const Wt=void 0,je=null,Xe=e=>e===Wt,qt=e=>typeof e=="function",ue=new WeakMap,Ut=e=>je.prototype.toString.call(e),Ce=(e,t)=>e===`[object ${t}]`;let Bt=0;const Te=e=>{const t=typeof e,n=Ut(e),s=Ce(n,"Date"),o=Ce(n,"RegExp"),a=Ce(n,"Object");let r,i;if(je(e)===e&&!s&&!o){if(r=ue.get(e),r)return r;if(r=++Bt+"~",ue.set(e,r),Array.isArray(e)){for(r="@",i=0;i<e.length;i++)r+=Te(e[i])+",";ue.set(e,r)}if(a){r="#";const c=je.keys(e).sort();for(;!Xe(i=c.pop());)Xe(e[i])||(r+=i+":"+Te(e[i])+",");ue.set(e,r)}}else r=s?e.toJSON():t=="symbol"?e.toString():t=="string"?JSON.stringify(e):""+e;return r},$t=e=>{if(qt(e))try{e=e()}catch{e=""}const t=e;return e=typeof e=="string"?e:(Array.isArray(e)?e.length:e)?Te(e):"",[e,t]},fn=e=>$t(e)[0],De=b.use||(e=>{switch(e.status){case"pending":throw e;case"fulfilled":return e.value;case"rejected":throw e.reason;default:throw e.status="pending",e.then(t=>{e.status="fulfilled",e.value=t},t=>{e.status="rejected",e.reason=t}),e}}),Ie={dedupe:!0},Ht=(e,t,n)=>{const{cache:s,compare:o,suspense:a,fallbackData:r,revalidateOnMount:i,revalidateIfStale:c,refreshInterval:w,refreshWhenHidden:d,refreshWhenOffline:u,keepPreviousData:v}=n,[l,h,p,I]=k.get(s),[f,A]=Oe(e),q=(0,b.useRef)(!1),z=(0,b.useRef)(!1),y=(0,b.useRef)(f),U=(0,b.useRef)(t),V=(0,b.useRef)(n),S=()=>V.current,Y=()=>S().isVisible()&&S().isOnline(),[M,Q,le,J]=Ue(s,f),C=(0,b.useRef)({}).current,re=_(r)?_(n.fallback)?R:n.fallback[f]:r,et=(g,m)=>{for(const j in C){const E=j;if(E==="data"){if(!o(g[E],m[E])&&(!_(g[E])||!o(de,m[E])))return!1}else if(m[E]!==g[E])return!1}return!0},tt=(0,b.useMemo)(()=>{const g=!f||!t?!1:_(i)?S().isPaused()||a?!1:c!==!1:i,m=T=>{const B=W(T);return delete B._k,g?{isValidating:!0,isLoading:!0,...B}:B},j=M(),E=J(),F=m(j),ee=j===E?F:m(E);let x=F;return[()=>{const T=m(M());return et(T,x)?(x.data=T.data,x.isLoading=T.isLoading,x.isValidating=T.isValidating,x.error=T.error,x):(x=T,T)},()=>ee]},[s,f]),X=(0,ht.useSyncExternalStore)((0,b.useCallback)(g=>le(f,(m,j)=>{et(j,m)||g()}),[s,f]),tt[0],tt[1]),nt=!q.current,tn=l[f]&&l[f].length>0,Z=X.data,G=_(Z)?re&&qe(re)?De(re):re:Z,fe=X.error,Ae=(0,b.useRef)(G),de=v?_(Z)?_(Ae.current)?G:Ae.current:Z:G,rt=tn&&!_(fe)?!1:nt&&!_(i)?i:S().isPaused()?!1:a?_(G)?!1:c:_(G)||c,st=!!(f&&t&&nt&&rt),nn=_(X.isValidating)?st:X.isValidating,rn=_(X.isLoading)?st:X.isLoading,se=(0,b.useCallback)(async g=>{const m=U.current;if(!f||!m||z.current||S().isPaused())return!1;let j,E,F=!0;const ee=g||{},x=!p[f]||!ee.dedupe,T=()=>Be?!z.current&&f===y.current&&q.current:f===y.current,B={isValidating:!1,isLoading:!1},at=()=>{Q(B)},it=()=>{const N=p[f];N&&N[1]===E&&delete p[f]},ct={isValidating:!0};_(M().data)&&(ct.isLoading=!0);try{if(x&&(Q(ct),n.loadingTimeout&&_(M().data)&&setTimeout(()=>{F&&T()&&S().onLoadingSlow(f,n)},n.loadingTimeout),p[f]=[m(A),xe()]),[j,E]=p[f],j=await j,x&&setTimeout(it,n.dedupingInterval),!p[f]||p[f][1]!==E)return x&&T()&&S().onDiscarded(f),!1;B.error=R;const N=h[f];if(!_(N)&&(E<=N[0]||E<=N[1]||N[1]===0))return at(),x&&T()&&S().onDiscarded(f),!1;const $=M().data;B.data=o($,j)?$:j,x&&T()&&S().onSuccess(j,f,n)}catch(N){it();const $=S(),{shouldRetryOnError:Le}=$;$.isPaused()||(B.error=N,x&&T()&&($.onError(N,f,$),(Le===!0||P(Le)&&Le(N))&&(!S().revalidateOnFocus||!S().revalidateOnReconnect||Y())&&$.onErrorRetry(N,f,$,sn=>{const Ne=l[f];Ne&&Ne[0]&&Ne[0](ke,sn)},{retryCount:(ee.retryCount||0)+1,dedupe:!0})))}return F=!1,at(),!0},[f,s]),ot=(0,b.useCallback)((...g)=>He(s,y.current,...g),[]);if(ie(()=>{U.current=t,V.current=n,_(Z)||(Ae.current=Z)}),ie(()=>{if(!f)return;const g=se.bind(R,Ie);let m=0;S().revalidateOnFocus&&(m=Date.now()+S().focusThrottleInterval);const E=kt(f,l,(F,ee={})=>{if(F==Fe){const x=Date.now();S().revalidateOnFocus&&x>m&&Y()&&(m=x+S().focusThrottleInterval,g())}else if(F==Ve)S().revalidateOnReconnect&&Y()&&g();else{if(F==Me)return se();if(F==ke)return se(ee)}});return z.current=!1,y.current=f,q.current=!0,Q({_k:A}),rt&&(p[f]||(_(G)||ne?g():xt(g))),()=>{z.current=!0,E()}},[f]),ie(()=>{let g;function m(){const E=P(w)?w(M().data):w;E&&g!==-1&&(g=setTimeout(j,E))}function j(){!M().error&&(d||S().isVisible())&&(u||S().isOnline())?se(Ie).then(m):m()}return m(),()=>{g&&(clearTimeout(g),g=-1)}},[w,d,u,f]),(0,b.useDebugValue)(de),a&&_(G)&&f){if(!Be&&ne)throw new Error("Fallback data is required when using Suspense in SSR.");U.current=t,V.current=n,z.current=!1;const g=I[f];if(!_(g)){const m=ot(g);De(m)}if(_(fe)){const m=se(Ie);_(de)||(m.status="fulfilled",m.value=!0),De(m)}else throw fe}return{mutate:ot,get data(){return C.data=!0,de},get error(){return C.error=!0,fe},get isValidating(){return C.isValidating=!0,nn},get isLoading(){return C.isLoading=!0,rn}}},dn=oe.defineProperty(It,"defaultValue",{value:Ge}),zt=Mt(Ht);var Jt=window.wp.apiFetch,Gt=L.n(Jt),Ze=()=>{const e=r=>Gt()({path:r}).then(i=>i),t="/ajax-search-pro/options/search_instance/list",{data:n,isLoading:s,mutate:o,error:a}=zt(t,e,{revalidateIfStale:!1,revalidateOnFocus:!1,revalidateOnReconnect:!1});return a?{data:void 0,error:a,isLoading:s,mutate:o}:{data:n||[],error:void 0,isLoading:s,mutate:o}};const Kt={title:(0,D.__)("Ajax Search Pro","ajax-search-pro"),icon:(0,O.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"512",height:"512",viewBox:"0 0 512 512",children:(0,O.jsx)("path",{d:"M460.355 421.59l-106.51-106.512c20.04-27.553 31.884-61.437 31.884-98.037C385.73 124.935 310.792 50 218.685 50c-92.106 0-167.04 74.934-167.04 167.04 0 92.107 74.935 167.042 167.04 167.042 34.912 0 67.352-10.773 94.184-29.158L419.945 462l40.41-40.41zM100.63 217.04c0-65.095 52.96-118.055 118.056-118.055 65.098 0 118.057 52.96 118.057 118.056 0 65.097-52.96 118.057-118.057 118.057-65.096 0-118.055-52.96-118.055-118.056z"})}),category:"widgets",keywords:[(0,D.__)("search","ajax-search-pro"),(0,D.__)("ajax","ajax-search-pro")],attributes:{instance:{type:"number",default:1},scType:{type:"number",default:1}},edit:({attributes:e,setAttributes:t,isSelected:n,...s})=>{let{instance:o,scType:a}=e;a=Math.round(Math.max(1,Math.min(3,a)));const r=l=>{t({scType:parseInt(l)})},i=l=>{t({instance:parseInt(l)})},{data:c,error:w,isLoading:d}=Ze();if(d||c===void 0)return(0,D.__)("Loading search instances...","ajax-search-pro");const u=c.map(l=>parseInt(l.id));if(o=u.includes(o)?o:u[0],t({scType:a,instance:o}),!n&&a===1)return(0,O.jsx)(dt(),{block:"ajax-search-pro/block-asp-main",attributes:e});const v=[{label:"None",value:"0"}].concat(c.map(l=>({label:l.name,value:String(l.id)})));return(0,O.jsxs)("div",{className:s.className,children:[(0,O.jsx)(K.SelectControl,{label:(0,D.__)("Ajax Search Pro:","ajax-search-pro"),labelPosition:"side",value:a.toString(),options:[{value:"1",label:(0,D.__)("Search bar","ajax-search-pro")},{value:"2",label:(0,D.__)("Search settings","ajax-search-pro")},{value:"3",label:(0,D.__)("Search results","ajax-search-pro")}],onChange:r}),(0,O.jsx)(K.SelectControl,{label:(0,D.__)("Search ID:","ajax-search-pro"),labelPosition:"side",value:o.toString(),options:v,onChange:i})]})},save:({attributes:e})=>{const{instance:t,scType:n}=e;return(0,O.jsx)(_t,{instance:t,shortcodeType:n})}};(0,lt.registerBlockType)("ajax-search-pro/block-asp-main",Kt);var Yt=window.wp.hooks,Qt=window.wp.blockEditor;const Xt=["core/query","generateblocks/query","blocksy/query"],Zt=(0,O.jsxs)(O.Fragment,{children:[(0,D.__)("Selecting the search instance above will enable live search and filter for the query loop block for that search bar.","ajax-search-pro"),(0,O.jsx)(K.ExternalLink,{href:"https://documentation.ajaxsearchpro.com/behavior/results_page_live_loader",children:(0,D.__)("Learn more.","ajax-search-pro")})]});function en(e){return t=>{const{name:n,attributes:s,setAttributes:o}=t;if(!Xt.includes(n))return(0,O.jsx)(e,{...t});const{asp_override_id:a,className:r}=s,{data:i,error:c,isLoading:w}=Ze();if(w||i===void 0)return(0,O.jsx)(O.Fragment,{children:(0,D.__)("Loading...","ajax-search-pro")});const d=[{label:"None",value:"0"}].concat(i.map(u=>({label:u.name,value:String(u.id)})));return(0,O.jsxs)(O.Fragment,{children:[(0,O.jsx)(e,{...t}),(0,O.jsx)(Qt.InspectorControls,{children:(0,O.jsx)(K.PanelBody,{title:(0,D.__)("Ajax Search Pro","ajax-search-pro"),children:(0,O.jsx)(K.PanelRow,{children:(0,O.jsx)(K.SelectControl,{label:(0,D.__)("Live search target","ajax-search-pro"),options:d,help:Zt,defaultValue:a,onChange:u=>{const v=(r||"").split(" ").filter(l=>!l.includes("asp_es_"));u!=="0"&&v.push("asp_es_"+u),o({asp_override_id:parseInt(u),className:v.join(" ")})}})})})})]})}}(0,Yt.addFilter)("editor.BlockEdit","ajax-search-pro/add-query-loop-controls",en)})();
