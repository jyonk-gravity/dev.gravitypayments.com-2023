(function(){"use strict";var d={};(function(){d.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return d.d(e,{a:e}),e}})(),(function(){d.d=function(t,e){for(var n in e)d.o(e,n)&&!d.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})}})(),(function(){d.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}})();var p=DoMini,o=d.n(p);window._asp_instances_storage=window._asp_instances_storage||[];var u={instances:window._asp_instances_storage,get:function(t,e){if(this.clean(),typeof t>"u"||t===0)return this.instances;if(typeof e>"u"){let n=[];for(let s=0;s<this.instances.length;s++)parseInt(this.instances[s].o.id)===t&&n.push(this.instances[s]);return n.length>0?n:!1}else for(let n=0;n<this.instances.length;n++)if(parseInt(this.instances[n].o.id)===t&&parseInt(this.instances[n].o.iid)===e)return this.instances[n];return!1},set:function(t){return this.exist(t.o.id,t.o.iid)?!1:(this.instances.push(t),!0)},exist:function(t,e){this.clean();for(let n=0;n<this.instances.length;n++)if(parseInt(this.instances[n].o.id)===parseInt(t)){if(typeof e>"u")return!0;if(parseInt(this.instances[n].o.iid)===parseInt(e))return!0}return!1},clean:function(){let t=[],e=this;this.instances.forEach(function(n,s){p(".asp_m_"+n.o.rid).length===0&&t.push(s)}),t.forEach(function(n){typeof e.instances[n]<"u"&&(e.instances[n].destroy(),e.instances.splice(n,1))})},destroy:function(t,e){let n=this.get(t,e);if(n!==!1)if(Array.isArray(n))n.forEach(function(s){s.destroy()}),this.instances=[];else{let s=0;this.instances.forEach(function(i,a){parseInt(i.o.id)===t&&parseInt(i.o.iid)===e&&(s=a)}),n.destroy(),this.instances.splice(s,1)}}};function m(){"use strict";const t=function(s,i,a,r){let c=u.get(s,i);return c!==!1&&c[a].apply(c,[r])},e=function(s,i,a){let r;if(typeof i=="number"&&isFinite(i))return r=u.get(s,i),r!==!1&&r[a].apply(r);if(typeof i=="string")return r=u.get(s),r!==!1&&r.forEach(function(c){const f=c[i];typeof f=="function"&&f.apply(c,[a])})},n=function(s,i){let a;return i==="exists"?u.exist(s):(a=u.get(s),a!==!1&&a.forEach(function(r){const c=r[i];typeof c=="function"&&c.apply(r)}))};if(arguments.length===4)return t.apply(this,arguments);if(arguments.length===3)return e.apply(this,arguments);if(arguments.length===2)return n.apply(this,arguments);arguments.length===0&&(console.log("Usage: ASP.api(id, [optional]instance, function, [optional]args);"),console.log("For more info: https://knowledgebase.ajaxsearchpro.com/other/javascript-api"))}const P=()=>/^((?!chrome|android).)*safari/i.test(navigator.userAgent),g=t=>{let e=!1;return typeof window.$<"u"&&(typeof t>"u"||typeof window.$.fn[t]<"u")&&(e=window.$),e===!1&&typeof window.jQuery<"u"&&(e=window.jQuery,(typeof t>"u"||typeof window.jQuery.fn[t]<"u")&&(e=window.jQuery)),e},D=function(t,e){let n=t.find("input,textarea,select,button").get();if(arguments.length===1){const s={};return n.forEach(function(i){i.name&&!i.disabled&&(i.checked||/select|textarea/i.test(i.nodeName)||/text/i.test(i.type)||$(i).hasClass("hasDatepicker")||$(i).hasClass("asp_slider_hidden"))&&(s[i.name]===void 0&&(s[i.name]=[]),$(i).hasClass("hasDatepicker")?s[i.name].push($(i).parent().find(".asp_datepicker_hidden").val()):s[i.name].push($(i).val()))}),JSON.stringify(s)}else if(e!==void 0){const s=typeof e!="object"?JSON.parse(e):e;return n.forEach(function(i){if(i.name)if(s[i.name]){let a=s[i.name],r=$(i);if(Object.prototype.toString.call(a)!=="[object Array]"&&(a=[a]),i.type==="checkbox"||i.type==="radio"){let c=r.val(),f=!1;for(let h=0;h<a.length;h++)if(a[h]===c){f=!0;break}r.prop("checked",f)}else r.val(a[0]),$(i).hasClass("asp_gochosen")||$(i).hasClass("asp_goselect2")?intervalUntilExecute(function(c){c(i).trigger("change.asp_select2")},function(){return g("asp_select2")},50,3):$(i).hasClass("hasDatepicker")&&intervalUntilExecute(function(c){const f=r.get(0);if(f===void 0)return;let h=a[0],E=c(f).datepicker("option","dateFormat");c(f).datepicker("option","dateFormat","yy-mm-dd"),c(f).datepicker("setDate",h),c(f).datepicker("option","dateFormat",E),c(f).trigger("selectnochange")},function(){return g("datepicker")},50,3)}else(i.type==="checkbox"||i.type==="radio")&&$(i).prop("checked",!1)}),t}},j=function(t,e,n,s="self"){let i;i=$('<form style="display: none;" />'),i.attr("action",t),i.attr("method",e),$("body").append(i),typeof n<"u"&&n!==null&&Object.keys(n).forEach(function(a){let r=n[a],c=$('<input type="hidden" />');c.attr("name",a),c.attr("value",r),i.append(c)}),s=="new"&&i.attr("target","_blank"),i.get(0).submit()},A=function(t){Object.assign(document.createElement("a"),{target:"_blank",href:t}).click()},_=function(t,e=0){for(const n of t)if(w(n))return window.scrollTo({top:n.getBoundingClientRect().top-120+window.pageYOffset+e,behavior:"smooth"}),!0;return!1},w=function(t){if(typeof t.checkVisibility>"u")return!0;let e=t,n=!0;for(;e!==null;){if(!e.checkVisibility({opacityProperty:!0,visibilityProperty:!0,contentVisibilityAuto:!0})){n=!1;break}e=e.parentElement}return n};var b=t=>{let e=!1;const n=()=>document.readyState==="complete"||document.readyState==="interactive"||document.readyState==="loaded",s=()=>{window.removeEventListener("DOMContentLoaded",a),document.removeEventListener("readystatechange",r)},i=()=>{e||(e=!0,t(),s())},a=()=>{i()},r=()=>{n()&&i()};n()?i():(window.addEventListener("DOMContentLoaded",a),document.addEventListener("readystatechange",r))};const l=window.ASP;var v={instances:u,instance_args:[],api:m,initialized:!1,initializeAllSearches:function(){this.getInstances().forEach(function(e,n){o().fn._(".asp_m_"+n).forEach(function(s){return typeof s.hasAsp<"u"?!0:(s.hasAsp=!0,o()(s).ajaxsearchpro(e))})})},initializeSearchByID:function(t,e=0){const n=this.getInstance(t),s=e===0?".asp_m_"+t:".asp_m_"+t+"_"+e;o().fn._(s).forEach(function(i){return typeof i.hasAsp<"u"?!0:(i.hasAsp=!0,o()(i).ajaxsearchpro(n))})},getInstances:function(){return o().fn._(".asp_init_data").forEach(t=>{const e=parseInt(t.dataset.aspId||"");typeof t.dataset.settings<"u"&&(this.instance_args[e]=JSON.parse(t.dataset.settings))}),this.instance_args},getInstance:function(t){return typeof this.instance_args[t]<"u"?this.instance_args[t]:this.getInstances()[t]},initialize:function(t){if(typeof l.version>"u")return!1;if(l.script_async_load||l.init_only_in_viewport){const e=document.querySelectorAll(".asp_w_container");if(e.length){const n=new IntersectionObserver(s=>{s.forEach(i=>{if(i.isIntersecting){const a=parseInt(i.target.dataset.id??"0"),r=parseInt(i.target.dataset.instance??"0");this.initializeSearchByID(a,r),n.unobserve(i.target)}})});e.forEach(function(s){typeof s._is_observed<"u"||(s._is_observed=!0,n.observe(s))})}this.getInstances().forEach((n,s)=>{n.compact.enabled&&this.initializeSearchByID(s)})}else typeof t>"u"?this.initializeAllSearches():this.initializeSearchByID(t);return this.initializeMutateDetector(),this.initializeHighlight(),this.initializeOtherEvents(),this.initializeStatistics(),this.initialized=!0,!0},initializeStatistics:function(){const t=this,e=new URLSearchParams(location.search),n=l.statistics.enabled&&l.statistics.record_results&&l.statistics.record_result_interactions;!this.initialized&&e.has("s")&&n&&o()(t.getResultsPageResultSelector()).on("click",function(){t.registerInteraction(this)})},getResultsPageResultSelector:function(){if(l.statistics.results_page_dom_selector!=="")return o()(l.statistics.results_page_dom_selector).length>0?l.statistics.results_page_dom_selector:"";const t=["main article","#main article","#main-content article","#main_content article","#content article","main li.product","main div.product",".wp-block-post"];for(const e of t)if(o()(e).length>0)return e;return""},registerInteraction:function(t,e){if(e===void 0){const s=o()("body").find("#asp-statistics").data("statistics-id").replace(/\s/g,"");e=s===""?0:parseInt(s)}let n={search_id:e};if(o()(t).data("id")!==""&&o()(t).data("content-type")!=="")n.result_id=parseInt(o()(t).data("id")),n.content_type=o()(t).data("content-type");else if(t.nodeName==="A"?n.url=o()(t).attr("href"):n.url=o()(t).find("a").attr("href"),!n.url)return;fetch(l.rest_url+"ajax-search-pro/statistics/interaction/add",{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify(n)}).catch(s=>{console.log(s)})},initializeHighlight:function(){if(!l.highlight.enabled)return;const t=l.highlight.data;let e=t.selector!==""&&o()(t.selector).length>0?t.selector:"article",n,s;e=o()(e).length>0?e:"body";const i=new URLSearchParams(location.search);if(s=i.get("s")??i.get("asp_highlight")??i.get("asp_s")??i.get("asp_ls")??"",o()(e).unhighlight({className:"asl_single_highlighted"}),s===null||(s=s.trim(),s===""))return;const a=s.trim().split(" ").map(r=>r.trim(".")).filter(r=>r.length>=t.minWordLength);o()(e).highlight([s.trim()],{element:"span",className:"asp_single_highlighted_"+t.id+" asp_single_highlighted_exact",wordsOnly:t.whole,excludeParents:".asp_w, .asp-try"}),a.length>0&&o()(e).highlight(a,{element:"span",className:"asp_single_highlighted_"+t.id,wordsOnly:t.whole,excludeParents:".asp_w, .asp-try, .asp_single_highlighted_"+t.id}),t.scroll&&(_(o()(".asp_single_highlighted_"+t.id+".asp_single_highlighted_exact").get(),t.scroll_offset)||_(o()(".asp_single_highlighted_"+t.id).get(),t.scroll_offset))},initializeOtherEvents:function(){let t,e;const n=o()("body");e="#menu-item-search, .fa-search, .fa, .fas",e=e+", .fusion-flyout-menu-toggle, .fusion-main-menu-search-open",e=e+", #search_button",e=e+", .mini-search.popup-search",e=e+", .icon-search",e=e+", .menu-item-search-dropdown",e=e+", .mobile-menu-button",e=e+", .td-icon-search, .tdb-search-icon",e=e+", .side_menu_button, .search_button",e=e+", .raven-search-form-toggle",e=e+", [data-elementor-open-lightbox], .elementor-button-link, .elementor-button",e=e+", i[class*=-search], a[class*=-search]",n.on("click touchend",e,()=>{clearTimeout(t),t=setTimeout(()=>{this.initializeAllSearches()},300)}),typeof window.jQuery<"u"&&window.jQuery(document).on("elementor/popup/show",()=>{setTimeout(()=>{this.initializeAllSearches()},10)})},initializeMutateDetector:function(){let t;if(typeof l.detect_ajax<"u"&&l.detect_ajax){const e=new MutationObserver(()=>{clearTimeout(t),t=setTimeout(()=>{this.initializeAllSearches()},500)}),n=document.querySelector("body");if(n==null)return;e.observe(n,{subtree:!0,childList:!0})}},loadScriptStack:function(t){let e;if(t.length>0){const n=t.shift();if(n===void 0)return;e=document.createElement("script"),e.src=n.src,e.onload=()=>{t.length>0?this.loadScriptStack(t):(typeof window.WPD.AjaxSearchPro<"u"&&o()._fn.plugin("ajaxsearchpro",window.WPD.AjaxSearchPro.plugin),this.ready())},document.body.appendChild(e)}},ready:function(){const t=this;b(()=>{t.initialize()})},init:function(){l.script_async_load?this.loadScriptStack(l.additional_scripts):typeof window.WPD.AjaxSearchPro<"u"&&this.ready()}},S=window.WPD.intervalUntilExecute;function y(){typeof window.WPD.AjaxSearchPro<"u"&&p._fn.plugin("ajaxsearchpro",window.WPD.AjaxSearchPro.plugin),window.ASP={...window.ASP,...v},S(()=>window.ASP.init(),function(){return typeof window.ASP.version<"u"})}(function(){navigator.userAgent.indexOf("Chrome-Lighthouse")===-1&&typeof window.WPD<"u"&&typeof window.WPD.dom<"u"&&(window.WPD.AjaxSearchPro._load=y,y())})()})();
