(function(){"use strict";var c={};(function(){c.d=function(t,e){for(var l in e)c.o(e,l)&&!c.o(t,l)&&Object.defineProperty(t,l,{enumerable:!0,get:e[l]})}})(),function(){c.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}();var u={};c.d(u,{default:function(){return s}});var a=Object(window.WPD).AjaxSearchPro,n=Object(window.WPD).DoMini;a.plugin.autocompleteCheck=function(t=""){if(this.n("text").val()==="")return this.n("textAutocomplete").val(""),!1;let e=this.n("textAutocomplete").val();return!(e!==""&&e.indexOf(t)===0)},a.plugin.autocomplete=function(){let t=this,e=t.n("text").val();if(t.autocompleteCheck(e)&&t.n("text").val().length>=t.o.autocomplete.trigger_charcount){let l={action:"ajaxsearchpro_autocomplete",asid:t.o.id,sauto:t.n("text").val(),asp_inst_id:t.o.rid,options:n("form",t.n("searchsettings")).serialize()};t.postAuto=n.fn.ajax({url:ASP.ajaxurl,method:"POST",data:l,success:function(o){o.length>0&&(o=n("<textarea />").html(o).text(),o=o.replace(/^\s*[\r\n]/gm,""),o=e+o.substring(e.length)),t.n("textAutocomplete").val(o),t.fixAutocompleteScrollLeft()}})}},a.plugin.autocompleteGoogleOnly=function(){let t=this,e=t.n("text").val();if(!t.autocompleteCheck(e))return;let l=t.o.autocomplete.lang;["wpml_lang","polylang_lang","qtranslate_lang"].forEach(function(o){n('input[name="'+o+'"]',t.n("searchsettings")).length>0&&n('input[name="'+o+'"]',t.n("searchsettings")).val().length>1&&(l=n('input[name="'+o+'"]',t.n("searchsettings")).val())}),t.n("text").val().length>=t.o.autocomplete.trigger_charcount&&n.fn.ajax({url:"https://clients1.google.com/complete/search",cors:"no-cors",data:{q:e,hl:l,nolabels:"t",client:"hp",ds:""},success:function(o){if(o[1].length>0){let i=o[1][0][0].replace(/(<([^>]+)>)/ig,"");i=n("<textarea />").html(i).text(),i=i.substring(e.length),t.n("textAutocomplete").val(e+i),t.fixAutocompleteScrollLeft()}}})},a.plugin.fixAutocompleteScrollLeft=function(){this.n("textAutocomplete").get(0).scrollLeft=this.n("text").get(0).scrollLeft};var p=null;let r=a.helpers;a.plugin.initAutocompleteEvent=function(){let t=this,e;(t.o.autocomplete.enabled&&!r.isMobile()||t.o.autocomplete.mobile&&r.isMobile())&&(t.n("text").on("keyup",function(l){t.keycode=l.keyCode||l.which,t.ktype=l.type;let o=39;n("body").hasClass("rtl")&&(o=37),t.keycode===o&&t.n("textAutocomplete").val()!==""?(l.preventDefault(),t.n("text").val(t.n("textAutocomplete").val()),t.o.trigger.type&&(t.searchAbort(),t.search())):(clearTimeout(e),t.postAuto!=null&&t.postAuto.abort(),t.o.autocomplete.googleOnly?t.autocompleteGoogleOnly():e=setTimeout(function(){t.autocomplete(),e=null},t.o.trigger.autocomplete_delay))}),t.n("text").on("keyup mouseup input blur select",function(){t.fixAutocompleteScrollLeft()}))};var f=null,s=a;Object(window.WPD).AjaxSearchPro=u.default})();
