(function(){window.WPD=window.WPD||{},WPD.lazy=function(){typeof WPD.lazy.fn>"u"&&(WPD.lazy.fn={initialized:!1,elAttached:!1,n:[],init:function(){this.initialized||(this.events(),this.initialized=!0),document.removeEventListener("wpd-dom-viewport-loaded",WPD.lazy.fn.init),this.handler()},events:function(){document.addEventListener("scroll",this.handler.bind(WPD.lazy.fn),{passive:!0}),document.addEventListener("resize",this.handler.bind(WPD.lazy.fn),{passive:!0}),document.addEventListener("wpd-lazy-trigger",this.handler.bind(WPD.lazy.fn),{passive:!0})},handler:function(){let n=WPD.dom;n(this.n.join(",")).each(function(e){typeof e._wpd_lazy_loaded>"u"&&n(e).inViewPort(-50)&&(e.tagName.toLowerCase()=="img"?e.src=n(e).attr("data-src"):e.style.backgroundImage="url('"+n(e).attr("data-src")+"')",e._wpd_lazy_loaded=!0)})}}),arguments.length==1&&WPD.lazy.fn.n.indexOf(arguments[0])===-1&&WPD.lazy.fn.n.push(arguments[0]),typeof WPD.dom>"u"||typeof WPD.dom.fn.inViewPort>"u"?WPD.lazy.fn.elAttached||(console.log("WPD Lazy: waiting for dependency to load."),document.addEventListener("wpd-dom-viewport-loaded",WPD.lazy.fn.init.bind(WPD.lazy.fn)),WPD.lazy.fn.elAttached=!0):WPD.lazy.fn.init()},document.dispatchEvent(new Event("wpd-lazy-loaded"))})();
