jQuery(function(a){a(".wpdreamsColorPicker .color").spectrum({showInput:!0,showAlpha:!0,showPalette:!0,showSelectionPalette:!0}).on("wd_state_update",function(){var c=a(this).val();if(7>=c.length){{c=c.replace("#","").match(/(.{2})/g);let d=3;for(;d--;)c[d]=parseInt(c[d],16);c="rgba("+c.join(", ")+", 1)"}}a(this).spectrum("set",c)})});
jQuery(function(a){a("div.wd_cf_search").each(function(){var c=null,d=this,b=a(this).attr("id").match(/^wd_cf_search-(.*)/)[1],h=a(".wd_cf_search_res",d);a("input.wd_cf_search",d).on("keyup",function(){var g=a(this);clearTimeout(c);""==g.val()?(a(".wd_ts_close",d).addClass("hiddend"),a(".loading-small",d).addClass("hiddend")):c=setTimeout(function(){a(".loading-small",d).removeClass("hiddend");a(".wd_ts_close",d).addClass("hiddend");var e={action:"wd_search_cf",wd_phrase:g.val(),wd_required:1,wd_args:a("input.wd_args",
d).val()};a.post(ajaxurl,e,function(f){var l=JSON.parse(WD_Helpers.Base64.decode(a("input.wd_args",d).val()));f=f.match(new RegExp(l.delimiter+"(.*[sS]*)"+l.delimiter));f=JSON.parse(f[1]);if("undefined"!=typeof l.callback&&""!=l.callback)"undefined"!=typeof window[l.callback]&&window[l.callback].apply(null,[f,g,l,d,b]);else{var n="";a.each(f,function(k,m){n+='<li key="'+m.meta_key+'">'+m.meta_key+"</li>"});""!=n?h.html("<ul>"+n+"</ul>"):h.html("<p>No results :(</p>");h.css("display","block");l=g.offset().top+
h.outerHeight();f=a(window).scrollTop()+window.innerHeight;l>f?h.css({left:g.position().left+g.outerWidth(!0)+5,top:g.position().top-(l-f),display:"block",minWidth:g.width()}):h.css({left:g.position().left,top:g.position().top+g.outerHeight(!0)+10,display:"block",minWidth:g.width()});h.find("li").on("click",function(k){g.val(a(this).attr("key"));h.css({display:"none"})})}a(".loading-small",d).addClass("hiddend");a(".wd_ts_close",d).removeClass("hiddend")},"text")},350)});a(".wd_ts_close",d).on("click",
function(){a("input.wd_cf_search",d).val("");a(this).addClass("hiddend");h.css({display:"none"})});a("input.wd_cf_search",d).on("click",function(){h.css({display:"block"})});a("input.wd_cf_search",d).on("blur",function(){a(this).val(a(this).val().trim())});a(d).click("click",function(g){g.stopImmediatePropagation()});a(document).off("click.wpd_custom_field_search").on("click.wpd_custom_field_search",function(){a(".wd_ts_close",d).addClass("hiddend");h.css({display:"none"})})})});
jQuery(function(a){window.wd_cf_ajax_callback=function(c,d,b,h){b=d.closest(".wpdreamsCustomFields");d=a(".draggablecontainer ul",b);b=b.attr("id").match(/^wpdreamsCustomFields-(.*)/)[1];var g="";h={connectToSortable:"#sortable_conn"+b,update:function(e,f){},cancel:".ui-state-disabled",helper:"clone",items:"> li"};0<c.length?(a.each(c,function(e,f){e=f.meta_key.replace("__pods__","[PODs] ");g+='<li class="ui-state-default" cf_name="'+f.meta_key+'">'+e+'<a class="deleteIcon"></a></li>'}),d.html(g),
a("#sortable"+b+" li").draggable(h).disableSelection(),a("#sortable"+b+" li").trigger("sortupdate"),a("#sortable_conn"+b).trigger("sortupdate")):d.html("No results for this phrase.")};a("div.wpdreamsCustomFields").each(function(){function c(){a("#sortable"+b+" li").removeClass("ui-state-disabled");a("ul[id*=sortable_conn] li",h).each(function(e,f){a("#sortable"+b+" li[cf_name='"+a(this).attr("cf_name")+"']").addClass("ui-state-disabled")})}function d(){var e="";a("#sortable_conn"+b+" li").each(function(){e+=
"|"+a(this).attr("cf_name")});e=e.substring(1);g.val(e)}var b=a(this).attr("id").match(/^wpdreamsCustomFields-(.*)/)[1];a("input[isparam=1]",this).attr("name");var h=a(this),g=a("input[isparam=1]",this);a("#sortable_conn"+b).sortable({update:function(e,f){a(f.item).css({width:"",height:""});c();d()},items:"> li",cancel:".ui-state-disabled",remove:function(e,f){}}).disableSelection();a("#sortable_conn"+b).on("sortupdate",function(e,f){c();d()});a("#sortable_conn"+b).on("click","li a.deleteIcon",function(e){e.preventDefault();
a(this).parent().detach();c();d()});a("#draggablecontainer"+b+" .arrow-all-left").on("click",function(){a("#sortable_conn"+b+" li").detach();a("#sortable_conn"+b).trigger("sortupdate")});a("#draggablecontainer"+b+" .arrow-all-right").on("click",function(){a("#sortable"+b+" li:not(.hiddend):not(.ui-state-disabled)").clone().appendTo("#sortable_conn"+b);a("#sortable_conn"+b).trigger("sortupdate")})})});
jQuery(function(a){let c=function(b,h){return h.some(function(g){return 0<=b.indexOf(g)})},d={pdf:["application/pdf"],text:"text/plain text/csv text/tab-separated-values text/calendar text/css text/html".split(" "),richtext:["text/richtext","application/rtf"],mso_word:["application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.ms-word.document.macroEnabled.12","application/vnd.openxmlformats-officedocument.wordprocessingml.template","application/vnd.ms-word.template.macroEnabled.12",
"application/vnd.oasis.opendocument.text"],mso_excel:"application/vnd.ms-excel application/vnd.openxmlformats-officedocument.spreadsheetml.sheet application/vnd.ms-excel.sheet.macroEnabled.12 application/vnd.ms-excel.sheet.binary.macroEnabled.12 application/vnd.openxmlformats-officedocument.spreadsheetml.template application/vnd.ms-excel.template.macroEnabled.12 application/vnd.ms-excel.addin.macroEnabled.12 application/vnd.oasis.opendocument.spreadsheet application/vnd.oasis.opendocument.chart application/vnd.oasis.opendocument.database application/vnd.oasis.opendocument.formula".split(" "),
mso_powerpoint:"application/vnd.ms-powerpoint application/vnd.openxmlformats-officedocument.presentationml.presentation application/vnd.ms-powerpoint.presentation.macroEnabled.12 application/vnd.openxmlformats-officedocument.presentationml.slideshow application/vnd.ms-powerpoint.slideshow.macroEnabled.12 application/vnd.openxmlformats-officedocument.presentationml.template application/vnd.ms-powerpoint.template.macroEnabled.12 application/vnd.ms-powerpoint.addin.macroEnabled.12 application/vnd.openxmlformats-officedocument.presentationml.slide application/vnd.ms-powerpoint.slide.macroEnabled.12 application/vnd.oasis.opendocument.presentation application/vnd.oasis.opendocument.graphics".split(" "),
image:"image/jpeg image/gif image/png image/bmp image/tiff image/x-icon".split(" "),video:"video/x-ms-asf video/x-ms-wmv video/x-ms-wmx video/x-ms-wm video/avi video/divx video/x-flv video/quicktime video/mpeg video/mp4 video/ogg video/webm video/x-matroska".split(" "),audio:"audio/mpeg audio/x-realaudio audio/wav audio/ogg audio/midi audio/x-ms-wma audio/x-ms-wax audio/x-matroska".split(" ")};a(".wd_MimeTypeSelect .file_mime_types_list select").select2().on("change",function(){let b=[];a(this).val().forEach(function(h){b.push(d[h].join(","))});
a(this).closest(".wd_MimeTypeSelect").find(".file_mime_types_input textarea").val(b.join(",")).trigger("input").trigger("click")});a(".wd_MimeTypeSelect .file_mime_types_input textarea").on("click keyup change cut paste",function(){let b=a(this).val().toLowerCase().replace(" ","").split(","),h=[];0<b.length&&(a.each(b,function(g,e){b[g]=e.trim()}),a.each(d,function(g,e){a.each(e,function(f,l){d[g][f]=l.toLowerCase()})}),a.each(d,function(g,e){c(e,b)&&h.push(g)}));a(this).closest(".wd_MimeTypeSelect").find(".file_mime_types_list select").val(h).trigger("change.select2")}).trigger("click");
a("span.mime_input_hide").on("click",function(){let b=a(this).closest(".wd_MimeTypeSelect");b.find(".file_mime_types_input").addClass("hiddend");b.find(".file_mime_types_list").removeClass("hiddend")});a("span.mime_list_hide").on("click",function(){let b=a(this).closest(".wd_MimeTypeSelect");b.find(".file_mime_types_input").removeClass("hiddend");b.find(".file_mime_types_list").addClass("hiddend");b.find(".file_mime_types_input textarea").trigger("input")})});
jQuery(function(a){a("div.wd_post_type_sortalbe").each(function(){var c=a(this),d=a(this).attr("id").match(/^wd_post_type_sortalbe-(.*)/)[1];d="#sortable"+d+", #sortable_conn"+d;var b=a("input[isparam=1]",c);a(d).sortable({},{update:function(h,g){}}).disableSelection();a(d).on("sortupdate",function(h,g){var e=[];a("ul[id*=sortable] li",c).each(function(){e.push(a(this).html().trim())});b.val("_decode_"+WD_Helpers.Base64.encode(JSON.stringify(e)))});a(d).trigger("sortupdate")})});
jQuery(function(a){a("div.wpdreamsCustomPostTypes").each(function(){let c=a(this).data("id"),d="#sortable"+c+", #sortable_conn"+c,b=a(this),h=a("input[isparam=1]",this);a(d).sortable({connectWith:".connectedSortable"+c}).disableSelection();a(d).on("sortupdate",function(g,e){let f=[];b.find("ul[id*=sortable_conn] li").each(function(){f.push(a(this).data("ptype"))});h.val("_decode_"+WD_Helpers.Base64.encode(JSON.stringify(f)))});a("#sortablecontainer"+c+" .arrow-all").on("click",function(){a(this).hasClass("arrow-all-left")?
a("#sortable_conn"+c+" li").detach().appendTo("#sortable"+c):a("#sortable"+c+" li:not(.hiddend)").detach().appendTo("#sortable_conn"+c);a(d).trigger("sortupdate")})})});jQuery(function(a){a("div.wpdreamsSortable").each(function(){let c="#sortable"+a(this).data("id"),d=a(this),b=a("input[isparam=1]",this);a(c).sortable().disableSelection();a(c).on("sortupdate",function(h,g){let e=[];d.find("ul[id*=sortable_conn] li").each(function(){e.push(a(this).data("value"))});b.val(e.join("|"))})})});
jQuery(function(a){a("div.wpdreamsTaxonomySelect").each(function(){let c=a(this).data("id"),d="#sortable"+c+", #sortable_conn"+c,b=a(this),h=a("input[isparam=1]",this);a(d).sortable({connectWith:".connectedSortable"+c}).disableSelection();a(d).on("sortupdate",function(g,e){let f=[];b.find("ul[id*=sortable_conn] li").each(function(){f.push(a(this).data("taxonomy"))});h.val(f.join("|"))});a("#sortablecontainer"+c+" .arrow-all").on("click",function(){a(this).hasClass("arrow-all-left")?a("#sortable_conn"+
c+" li").detach().appendTo("#sortable"+c):a("#sortable"+c+" li:not(.hiddend)").detach().appendTo("#sortable_conn"+c);a(d).trigger("sortupdate")})})});jQuery(function(a){a("textarea.wd_textarea_expandable").textareaAutoSize();var c;a(".tabs a[tabid]").on("click",function(){clearTimeout(c);c=setTimeout(function(){a("textarea.wd_textarea_expandable").trigger("input")},50)})});
jQuery(function(a){var c,d;a(".wpdreamsUpload .wdUploadButton").on("click",function(b){b.preventDefault();d=a(this).parent().find("input.wdUploadText");c||(c=wp.media.frames.file_frame=wp.media({title:"Choose File",button:{text:"Choose File"},multiple:!1}),c.on("select",function(){var h=c.state().get("selection").first().toJSON();d.val(h.url).trigger("change")}));c.open()})});
jQuery(function(a){window.wd_um_ajax_callback=function(c,d,b,h){b=d.closest(".wd_UserMeta");d=a(".draggablecontainer ul",b);b=b.attr("id").match(/^wd_UserMeta-(.*)/)[1];var g="";h={connectToSortable:"#sortable_conn"+b,update:function(e,f){},cancel:".ui-state-disabled",helper:"clone",items:"> li"};0<c.length?(a.each(c,function(e,f){g+='<li class="ui-state-default" cf_name="'+f.meta_key+'">'+f.meta_key+'<a class="deleteIcon"></a></li>'}),d.html(g),a("#sortable"+b+" li").draggable(h).disableSelection(),
a("#sortable"+b+" li").trigger("sortupdate"),a("#sortable_conn"+b).trigger("sortupdate")):d.html("No results for this phrase.")};a("div.wd_UserMeta").each(function(){function c(){a("#sortable"+b+" li").removeClass("ui-state-disabled");a("ul[id*=sortable_conn] li",h).each(function(e,f){a("#sortable"+b+" li[cf_name='"+a(this).attr("cf_name")+"']").addClass("ui-state-disabled")})}function d(){var e=[];a("#sortable_conn"+b+" li").each(function(){e.push(a(this).attr("cf_name"))});g.val("_decode_"+WD_Helpers.Base64.encode(JSON.stringify(e)))}
var b=a(this).attr("id").match(/^wd_UserMeta-(.*)/)[1];a("input[isparam=1]",this).attr("name");var h=a(this),g=a("input[isparam=1]",this);a("#sortable_conn"+b).sortable({update:function(e,f){a(f.item).css({width:"",height:""});c();d()},items:"> li",cancel:".ui-state-disabled",remove:function(e,f){}}).disableSelection();a("#sortable_conn"+b).on("sortupdate",function(e,f){c();d()});a("#sortable_conn"+b).on("click","li a.deleteIcon",function(e){e.preventDefault();a(this).parent().detach();c();d()});
a("#draggablecontainer"+b+" .arrow-all-left").on("click",function(){a("#sortable_conn"+b+" li").detach();a("#sortable_conn"+b).trigger("sortupdate")});a("#draggablecontainer"+b+" .arrow-all-right").on("click",function(){a("#sortable"+b+" li:not(.hiddend):not(.ui-state-disabled)").clone().appendTo("#sortable_conn"+b);a("#sortable_conn"+b).trigger("sortupdate")})})});
jQuery(function(a){a("div.wpdreamsUserRoleSelect").each(function(){let c=a(this).data("id"),d="#sortable"+c+", #sortable_conn"+c,b=a(this),h=a("input[isparam=1]",this);a(d).sortable({connectWith:".connectedSortable"+c}).disableSelection();a(d).on("sortupdate",function(g,e){let f=[];b.find("ul[id*=sortable_conn] li").each(function(){f.push(a(this).data("role"))});h.val(f.join("|"))});a("#sortablecontainer"+c+" .arrow-all").on("click",function(){a(this).hasClass("arrow-all-left")?a("#sortable_conn"+
c+" li").detach().appendTo("#sortable"+c):a("#sortable"+c+" li:not(.hiddend)").detach().appendTo("#sortable_conn"+c);a(d).trigger("sortupdate")})})});
jQuery(function(a){a("div.wd_userselect").each(function(){function c(k){var m=[],p=[];a("ul[id*=sortable_conn] li",k).each(function(q,r){m.push(a(this).data("userid"));0<a("input[type='checkbox']",this).length&&!a("input[type='checkbox']",this).get(0).checked&&p.push(a(this).data("userid"))});f.users=m;f.op_type=a(".tts_operation",k).val();f.un_checked=p;g.val("_decode_"+WD_Helpers.Base64.encode(JSON.stringify(f)))}function d(){a("#sortable"+b+" li").removeClass("ui-state-disabled");a("ul[id*=sortable_conn] li",
e).each(function(k,m){a("#sortable"+b+" li[data-userid='"+a(this).data("userid")+"']").addClass("ui-state-disabled")})}var b=a(this).attr("id").match(/^wd_userselect-(.*)/)[1],h="#sortable"+b+", #sortable_conn"+b,g=a("input[isparam=1]",this);g.attr("name");var e=a(this),f=JSON.parse(WD_Helpers.Base64.decode(g.val().replace(/^(_decode_)/,""))),l={connectToSortable:"#sortable_conn"+b,update:function(k,m){},cancel:".ui-state-disabled",helper:"clone"};a("#sortable"+b+" li").draggable(l).disableSelection();
a("#sortable_conn"+b).sortable({update:function(k,m){k=a(m.item);k.css({width:"",height:""});"-1"==k.data("userid")?a("#sortable_conn"+b+" li[data-userid!='-1']").detach():a("#sortable_conn"+b+" li[data-userid='-1']").detach();a("#sortable"+b).html();c(e);d()},cancel:".ui-state-disabled",remove:function(k,m){a(m.item)}}).disableSelection();var n=null;a(".wd_user_search",e).on("keyup",function(){var k=a(this);clearTimeout(n);n=setTimeout(function(){a(".dragLoader",e).removeClass("hiddend");var m={action:"wd_search_users",
wd_phrase:k.val(),wd_required:1,wd_args:a("input.wd_args",e).val()};a.post(ajaxurl,m,function(p){0<p.length&&(a("#sortable"+b).html(p),a("#sortable"+b+" li").draggable(l).disableSelection(),d(),a(".dragLoader",e).addClass("hiddend"),a(".hide-children",e).trigger("change"))},"text")},350)});a(h).on("sortupdate",function(k,m){c(e);d()});a("#sortable_conn"+b+" li input").on("change",function(){c(e);d()});a("#sortable_conn"+b).on("click","li a.deleteIcon",function(k){k.preventDefault();a(this).parent().detach();
c(e);d()});a(".tts_operation",e).on("change",function(){c(e);d();a(".tts_type",e).html(a(this).val())});c(e);d()})});
jQuery(function(a){a("div.wpdreamsBP_XProfileFields").each(function(){let c=a(this).data("id"),d="#sortable"+c+", #sortable_conn"+c,b=a(this),h=a("input[isparam=1]",this);a(d).sortable({connectWith:".connectedSortable"+c}).disableSelection();a(d).on("sortupdate",function(g,e){let f=[];b.find("ul[id*=sortable_conn] li").each(function(){f.push(a(this).data("bid"))});h.val(f.join("|"))});a("#sortablecontainer"+c+" .arrow-all").on("click",function(){a(this).hasClass("arrow-all-left")?a("#sortable_conn"+
c+" li").detach().appendTo("#sortable"+c):a("#sortable"+c+" li:not(.hiddend)").detach().appendTo("#sortable_conn"+c);a(d).trigger("sortupdate")})})});
jQuery(function(a){a(".wpdreamsYesNo .wpdreamsYesNoInner").on("click",function(){let c=a(this).parent().find("input[type=hidden]");c.val(1==c.val()?0:1);a(this).parent().trigger("wd_state_update")});a(".wpdreamsYesNo").on("wd_state_update",function(){let c=a(this).find("input[type=hidden]");0==c.val()?a(this).removeClass("active"):a(this).addClass("active");c.trigger("change").trigger("input")})});
