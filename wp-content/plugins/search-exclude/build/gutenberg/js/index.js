(()=>{"use strict";const e=window.wp.plugins,t=window.wp.element,n=window.qlse.store,s=window.wp.i18n,o=window.wp.components,r=window.wp.data,c=window.wp.editor,d=window.wp.coreData;(0,e.registerPlugin)("custom-sidebar-metabox",{render:()=>{var e,i;const u=null!==(e=null!==(i=wp.editor?.PluginDocumentSettingPanel)&&void 0!==i?i:wp.editPost?.PluginDocumentSettingPanel)&&void 0!==e?e:wp.editSite?.PluginDocumentSettingPanel,{settingsExcluded:l,hasResolvedSettingsExcluded:a,saveExcludedSettings:w}=(0,n.useExcludedSettings)(),{exclude:p,setExclude:g}=((e={})=>{const{meta:t,setMeta:n}=((e={})=>{const{context:t={}}=e,{meta:n,postType:s,postId:o}=(0,r.useSelect)((e=>{const{getEditedEntityRecord:n}=e(d.store),{getCurrentPostId:s,getCurrentPostType:o}=e(c.store),{postType:r=o(),postId:i=s()}=t,u=n("postType",r,i);return{meta:u?.meta,postType:r,postId:i}}),[t]),{editEntityRecord:i}=(0,r.useDispatch)(d.store);return{meta:n,setMeta:e=>{i("postType",s,o,{meta:{...n,...e}})}}})(e);return{exclude:t?._exclude,setExclude:e=>{n({_exclude:e})}}})(),[m,x]=(0,t.useState)([]),E=(0,r.select)("core/editor").getCurrentPostId(),P=(0,t.useRef)(!1);return(0,t.useEffect)((()=>{a&&x(l)}),[a]),(0,t.useEffect)((()=>{const e=(0,r.subscribe)((()=>{const e=(0,r.select)("core/editor").isSavingPost(),t=(0,r.select)("core/editor").isAutosavingPost();!e||t||P.current||(P.current=!0,w(m)),e||(P.current=!1)}));return()=>e()}),[m]),(0,t.createElement)(u,{title:"Search Exclude",name:"search-exclude"},(0,t.createElement)(o.CheckboxControl,{__nextHasNoMarginBottom:!0,label:(0,s.__)("Exclude from Search Results","search-exclude"),checked:m?.includes(E),onChange:()=>{x((e=>{const t=e.includes(E)?e.filter((e=>e!==E)):[...e,E];return g(!p||void 0),t}))}}))}}),(window.qlse=window.qlse||{}).gutenberg={}})();