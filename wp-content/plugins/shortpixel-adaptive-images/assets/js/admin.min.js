(function(e,a,i){HTMLElement.prototype.isScrollable=function(){return{horizontal:this.scrollWidth>this.clientWidth,vertical:this.scrollHeight>this.clientHeight}};e.fn.isScrollable=function(){return{horizontal:this.length>0?this[0].scrollWidth>this[0].clientWidth:false,vertical:this.length>0?this[0].scrollHeight>this[0].clientHeight:false}};e.spaiProposeUpgrade=function(e){jQuery("#spaiProposeUpgrade .spai-modal-body").addClass("spai-modal-spinner");jQuery("#spaiProposeUpgrade .spai-modal-body").html("");jQuery("#spaiProposeUpgradeShade").css("display","block");jQuery("#spaiProposeUpgrade").removeClass("spai-hide");jQuery("#spaiProposeUpgradeShade").on("click",this.closeProposeUpgrade);var a={action:"spai_propose_upgrade",nonce:jQuery("#spaiProposeUpgradeShade").data("ajaxnonce")};jQuery.ajax({type:"POST",url:jQuery("#spaiProposeUpgradeShade").data("ajaxurl"),data:a,success:function(e){jQuery("#spaiProposeUpgrade").removeClass("spai-hide");jQuery("#spaiProposeUpgrade .spai-modal-body").removeClass("spai-modal-spinner");jQuery("#spaiProposeUpgrade .spai-modal-body").html(e)},complete:function(e,a){}})};e.spaiCloseProposeUpgrade=function(){jQuery("#spaiProposeUpgradeShade").css("display","none");jQuery("#spaiProposeUpgrade").addClass("spai-hide");jQuery("button[data-action=spaiProposeUpgrade]").removeAttr("disabled");if(jQuery(".shortpixel-button-waiting").length){jQuery("button[data-action=check]").click()}};e.spaiHelpInit=function(){jQuery("div.spai-inline-help span").on("click",(function(e){jQuery.spaiHelpOpen(e)}));jQuery("div.spai-modal-shade").on("click",(function(e){jQuery.spaiHelpClose()}))};e.spaiHelpOpen=function(a){e("#spaiHelpShade").css("display","block");e("#spaiHelp").removeClass("local");e("#spaiHelp .spai-modal-body .local-content").addClass("hidden");e("#spaiHelp .spai-modal-body iframe").removeClass("hidden").attr("src",a.target.dataset.link);e("#spaiHelp").removeClass("spai-hide")};e.spaiHelpOpenLocal=function(a){e("#spaiHelpShade").css("display","block");e("#spaiHelp").addClass("local");e("#spaiHelp .spai-modal-body iframe").addClass("hidden");e("#spaiHelp .spai-modal-body .local-content").removeClass("hidden").append(a.clone().removeClass("hidden"));e("#spaiHelp").removeClass("spai-hide");jQuery("div.spai-modal-shade").unbind("click")};e.spaiHelpClose=function(){jQuery("#spaiHelpShade").css("display","none");e("#spaiHelp .spai-modal-body iframe").attr("src","about:blank");e("#spaiHelp .spai-modal-body .local-content").html("");jQuery("#spaiHelp").addClass("spai-hide");jQuery("div.spai-modal-body").unbind("click")};e.showOverlayScroll=function(a){var i=e(".deactivation-popup .overlay"),t=i.find(".scroll-down");a=typeof a!=="boolean"?false:a;var o=t.attr("data-shown"),n=t.attr("data-status");if(i.isScrollable().vertical){if(!o){t.removeClass("hidden");t.attr("data-shown",true)}}else{t.addClass("hidden");if(n!=="closed"&&a){t.removeAttr("data-shown")}}};e.removeOverlayScroll=function(){var a=e(".scroll-down");a.addClass("hidden");a.attr("data-status","closed")};e((function(){var t=e(this),o=e(window),n=e(".deactivation-popup"),s=n.find(".overlay");e.showOverlayScroll();o.on("resize",(function(){e.showOverlayScroll(true)}));s.on("scroll",(function(){e.removeOverlayScroll()}));t.on("click",".scroll-down",(function(){e.removeOverlayScroll();s.animate({scrollTop:s[0].scrollHeight-s[0].clientHeight},500)}));t.on("click",".deactivation-popup .close, .deactivation-popup",(function(e){if(this===e.target){n.addClass("hidden")}}));t.on("click",'tr[data-slug="shortpixel-adaptive-images"] .deactivate a',(function(e){e.preventDefault();n.removeClass("hidden")}));t.on("change",'.deactivation-popup input[name][type="radio"]',(function(){var a=e(this);var i=a.val(),t=a.attr("name");i=typeof i==="string"&&i!==""?i:undefined;t=typeof t==="string"&&t!==""?t:undefined;if(i===undefined||t===undefined){return}var o=e("p[data-"+t+'="'+i+'"]'),n=a.parents(".body").find("section[data-"+t+"]"),s=a.parents(".body").find("p[data-"+t+"]:not(p[data-"+t+'="'+i+'"])');s.addClass("hidden");o.removeClass("hidden");n.removeClass("hidden");e.showOverlayScroll()}));t.on("keyup",".deactivation-popup input[name], .deactivation-popup textarea[name]",(function(a){var i=["Enter","Escape"];if(!i.includes(a.key)){return}a.preventDefault();a.stopPropagation();if(a.key===i[0]){e('.deactivation-popup [data-action="deactivation"]').click()}else if(a.key===i[1]){e(".deactivation-popup .close").click()}}));t.on("click",".deactivation-popup button[data-action]",(function(i){var t=e(this),o=t.parents(".body").find(".options-wrap"),s=o.find('input[name][type="checkbox"]:checked, input[name][type="radio"]:checked'),d=o.find("input[name], textarea[name]").not('input[type="checkbox"], input[type="radio"]');var r={action:t.data("action")};r.action=typeof r.action==="string"&&r.action!==""?r.action:undefined;if(s.length>0){s.each((function(){var a=e(this),i=a.val(),t=a.attr("name");if(typeof i==="string"&&i!==""&&typeof t==="string"&&t!==""){r[t]=i}}))}if(d.length>0){d.each((function(){var a=e(this),i=a.val(),t=a.attr("name");if(typeof i==="string"&&i!==""&&typeof t==="string"&&t!==""){r[t]=i}}))}e.ajax({url:typeof ajaxurl==="string"&&ajaxurl!==""?ajaxurl:"/wp-admin/admin-ajax.php",method:"post",data:{action:"shortpixel_ai_handle_feedback_action",data:r},beforeSend:function(){t.prop("disabled",true)},error:function(e){console.log(e)},complete:function(i,o){n.addClass("hidden");t.prop("disabled",false);var s=e('tr[data-slug="shortpixel-adaptive-images"] .deactivate a');if(s.length>0){var d=s.attr("href");if(typeof d==="string"&&d!==""){a.location.href=d}else{a.location.reload()}}}})}));t.on("click",'#screen-meta [data-plugin="shortpixel-adaptive-images"][data-action]',(function(){var i=e(this);var t=i.prop("tagName"),o=["input","button"],n={action:i.data("action")};t=typeof t==="string"&&t!==""?t.toLowerCase():undefined;n.action=typeof n.action==="string"&&n.action!==""?n.action:undefined;e.ajax({url:typeof ajaxurl==="string"&&ajaxurl!==""?ajaxurl:"/wp-admin/admin-ajax.php",method:"post",data:{action:"shortpixel_ai_handle_help_action",data:n},beforeSend:function(){if(o.includes(t)){i.prop("disabled",true)}},success:function(e){if(e.success){if(typeof e.reload==="object"&&!!e.reload.allowed){a.location.reload()}if(typeof e.redirect==="object"&&typeof e.redirect.url==="string"){a.location.href=e.redirect.url}}},error:function(e){console.log(e)},complete:function(){if(o.includes(t)){i.prop("disabled",false)}}})}));if(typeof tippy==="function"){i.tooltips=tippy("[data-tippy-content]",{animateFill:true,maxWidth:250,inertia:true,allowHTML:true})}function d(e,a,i,t){var o=window.screenLeft!==undefined?window.screenLeft:window.screenX;var n=window.screenTop!==undefined?window.screenTop:window.screenY;var s=window.innerWidth?window.innerWidth:document.documentElement.clientWidth?document.documentElement.clientWidth:screen.width;var d=window.innerHeight?window.innerHeight:document.documentElement.clientHeight?document.documentElement.clientHeight:screen.height;var r=s/window.screen.availWidth;var l=(s-i)/2/r+o;var p=(d-t)/2/r+n;var c=window.open(e,a,"toolbar=0,status=0,resizable=1,width="+i/r+",height="+t/r+",top="+p+",left="+l);if(window.focus)c.focus()}t.on("click",".socials-block [data-social]",(function(a){a.preventDefault();var i=e(this);d(i.attr("href"),"Sharer",640,440)}));e(".btn_topup").click((function(){e(".modal").on("shown.bs.modal",(function(){e(this).find("iframe").attr("src","http://www.google.com")}))}))}))})(jQuery,document,window);